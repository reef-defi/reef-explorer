# Account
- table:
  schema: public
  name: account
  object_relationships:
    - name: block
    using:
      foreign_key_constraint_on: block_id

# Block
- table:
  schema: public
  name: block
  array_relationships:
    - name: accounts
    using:
      foreign_key_constraint_on:
        column: id
        table:
          schema: public
          name: account

# Contract
- table:
  schema: public
  name: contract
  object_relationships:
    - name: extrinsic
      using:
        foreign_key_constraint_on: extrinsic_id
    - name: owner
      using:
        foreign_key_constraint_on: owner
    # TODO maybe add relation to verified_contract? How?

# Verified contract
- table:
  schema: public
  name: verified_contract
  object_relationships:
    - name: contract
    using:
      foreign_key_constraint_on: address

# Verification request
- table:
  schema: public
  name: verification_request

# Event
- table:
  schema: public
  name: event
  object_relationships:
    - name: extrinsic
    using:
      foreign_key_constraint_on: extrinsic_id
    - name: block
    using:
      foreign_key_constraint_on: block_id

# Unverified evm call
- table:
  schema: public
  name: unverified_evm_call
  object_relationships:
    - name: extrinsic
    using:
      foreign_key_constraint_on: extrinsic_id
    - name: signer
    using:
      foreign_key_constraint_on: signer_address 

# Verified evm call
- table:
  schema: public
  name: verified_evm_call
  object_relationships:
    - name: extrinsic
    using:
      foreign_key_constraint_on: extrinsic_id
    - name: signer
    using:
      foreign_key_constraint_on: signer_address
    - name: contract
    using:
      foreign_key_constraint_on: contract_address

# Extrinsic
- table:
  schema: public
  name: extrinsic
  object_relationships:
    - name: block
    using:
      foreign_key_constraint_on: block_id

# Transfer
- table:
  schema: public
  name: transfer
  object_relationships:
    - name: block
    using:
      foreign_key_constraint_on: block_id
    - name: extrinsic
    using:
      foreign_key_constraint_on: extrinsic_id
    - name: from_address
    using:
      foreign_key_constraint_on: from_address