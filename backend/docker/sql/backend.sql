GRANT ALL PRIVILEGES ON DATABASE reefexplorer TO reefexplorer;

CREATE TABLE IF NOT EXISTS block (  
  block_number BIGINT NOT NULL,
  finalized BOOLEAN NOT NULL,
  block_author TEXT NOT NULL,
  block_author_name TEXT NOT NULL,
  block_hash TEXT NOT NULL,
  parent_hash TEXT NOT NULL,
  extrinsics_root TEXT NOT NULL,
  state_root TEXT NOT NULL,
  active_era BIGINT NOT NULL,
  current_index BIGINT NOT NULL,
  is_election BOOLEAN NOT NULL,
  spec_name TEXT NOT NULL,
  spec_version INT NOT NULL,
  total_events INT NOT NULL,
  total_extrinsics INT NOT NULL,
  total_issuance NUMERIC(80,0) NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number )
);

CREATE TABLE IF NOT EXISTS harvest_error (  
  block_number BIGINT NOT NULL,
  error TEXT NOT NULL,
  stack TEXT NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number )
);

CREATE TABLE IF NOT EXISTS event (  
  block_number BIGINT NOT NULL,
  event_index INT NOT NULL,
  section TEXT NOT NULL,
  method TEXT NOT NULL,
  phase TEXT NOT NULL,
  data TEXT NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, event_index ) 
);

CREATE TABLE IF NOT EXISTS staking_reward (  
  block_number BIGINT NOT NULL,
  event_index INT NOT NULL,
  account_id TEXT NOT NULL,
  amount NUMERIC(80,0) NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, event_index ) 
);

CREATE TABLE IF NOT EXISTS staking_slash (  
  block_number BIGINT NOT NULL,
  event_index INT NOT NULL,
  account_id TEXT NOT NULL,
  amount NUMERIC(80,0) NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, event_index ) 
);

CREATE TABLE IF NOT EXISTS extrinsic (  
  block_number BIGINT NOT NULL,
  extrinsic_index INT NOT NULL,
  is_signed BOOLEAN NOT NULL,
  signer TEXT,
  section TEXT NOT NULL,
  method TEXT NOT NULL,
  args TEXT NOT NULL,
  hash TEXT NOT NULL,
  doc TEXT NOT NULL,
  fee_info TEXT NOT NULL,
  fee_details TEXT NOT NULL,
  success BOOLEAN NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, extrinsic_index ) 
);

CREATE TABLE IF NOT EXISTS signed_extrinsic (  
  block_number BIGINT NOT NULL,
  extrinsic_index INT NOT NULL,
  signer TEXT NOT NULL,
  section TEXT NOT NULL,
  method TEXT NOT NULL,
  args TEXT NOT NULL,
  hash TEXT NOT NULL,
  doc TEXT NOT NULL,
  fee_info TEXT NOT NULL,
  fee_details TEXT NOT NULL,
  success BOOLEAN NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, extrinsic_index ) 
);

CREATE TABLE IF NOT EXISTS transfer (  
  block_number BIGINT NOT NULL,
  extrinsic_index INT NOT NULL,
  section TEXT NOT NULL,
  method TEXT NOT NULL,
  hash TEXT NOT NULL,
  source TEXT NOT NULL,
  destination TEXT NOT NULL,
  amount NUMERIC(80,0) NOT NULL,
  denom TEXT NOT NULL,
  fee_amount NUMERIC(80,0) NOT NULL,
  success BOOLEAN NOT NULL,
  error_message TEXT DEFAULT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, extrinsic_index ) 
);

CREATE TABLE IF NOT EXISTS log  (  
  block_number BIGINT NOT NULL,
  log_index INT NOT NULL,
  type TEXT,
  engine TEXT NOT NULL,
  data TEXT NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_number, log_index ) 
);

CREATE TABLE IF NOT EXISTS ranking (
  block_height BIGINT NOT NULL,
  rank INT NOT NULL,
  active BOOLEAN NOT NULL,
  active_rating INT NOT NULL,
  name TEXT NOT NULL,
  identity TEXT NOT NULL,
  has_sub_identity BOOLEAN NOT NULL,
  sub_accounts_rating INT NOT NULL,
  verified_identity BOOLEAN NOT NULL,
  identity_rating INT NOT NULL,
  stash_address TEXT NOT NULL,
  stash_address_creation_block BIGINT NOT NULL,
  stash_parent_address_creation_block BIGINT NOT NULL,
  address_creation_rating INT NOT NULL,
  controller_address TEXT NOT NULL,
  part_of_cluster BOOLEAN NOT NULL,
  cluster_name TEXT NOT NULL,
  cluster_members INT NOT NULL,
  show_cluster_member BOOLEAN NOT NULL,
  nominators INT NOT NULL,
  nominators_rating INT NOT NULL,
  commission TEXT NOT NULL,
  commission_history TEXT NOT NULL,
  commission_rating INT NOT NULL,
  active_eras INT NOT NULL,
  era_points_history TEXT NOT NULL,
  era_points_percent TEXT NOT NULL,
  era_points_rating INT NOT NULL,
  performance TEXT NOT NULL,
  performance_history TEXT NOT NULL,
  relative_performance TEXT NOT NULL,
  relative_performance_history TEXT NOT NULL,
  slashed BOOLEAN NOT NULL,
  slash_rating INT NOT NULL,
  slashes TEXT NOT NULL,
  payout_history TEXT NOT NULL,
  payout_rating INT NOT NULL,
  self_stake NUMERIC(80,0) NOT NULL,
  other_stake NUMERIC(80,0) NOT NULL,
  total_stake NUMERIC(80,0) NOT NULL,
  stake_history TEXT NOT NULL,
  total_rating INT NOT NULL,
  dominated BOOLEAN NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( block_height, stash_address )
);

CREATE TABLE IF NOT EXISTS era_vrc_score (  
  stash_address TEXT NOT NULL,
  era INT NOT NULL,
  vrc_score INT NOT NULL,
  PRIMARY KEY ( stash_address, era )
);

CREATE TABLE IF NOT EXISTS era_commission (  
  stash_address TEXT NOT NULL,
  era INT NOT NULL,
  commission FLOAT NOT NULL,
  PRIMARY KEY ( stash_address, era )
);

CREATE TABLE IF NOT EXISTS era_commission_avg (  
  era INT NOT NULL,
  commission_avg FLOAT NOT NULL,
  PRIMARY KEY ( era )
);

CREATE TABLE IF NOT EXISTS era_self_stake (  
  stash_address TEXT NOT NULL,
  era INT NOT NULL,
  self_stake NUMERIC(80,0) NOT NULL,
  PRIMARY KEY ( stash_address, era )
);

CREATE TABLE IF NOT EXISTS era_self_stake_avg (  
  era INT NOT NULL,
  self_stake_avg NUMERIC(80,0) NOT NULL,
  PRIMARY KEY ( era )
);

CREATE TABLE IF NOT EXISTS era_relative_performance (  
  stash_address TEXT NOT NULL,
  era INT NOT NULL,
  relative_performance FLOAT NOT NULL,
  PRIMARY KEY ( stash_address, era )
);

CREATE TABLE IF NOT EXISTS era_relative_performance_avg (
  era INT NOT NULL,
  relative_performance_avg FLOAT NOT NULL,
  PRIMARY KEY ( era )
);

CREATE TABLE IF NOT EXISTS era_points (  
  stash_address TEXT NOT NULL,
  era INT NOT NULL,
  points INT NOT NULL,
  PRIMARY KEY ( stash_address, era )
);

CREATE TABLE IF NOT EXISTS era_points_avg (
  era INT NOT NULL,
  points_avg FLOAT NOT NULL,
  PRIMARY KEY ( era )
);

CREATE TABLE IF NOT EXISTS account  (  
  account_id TEXT NOT NULL,
  identity TEXT NOT NULL,
  identity_display TEXT NOT NULL,
  identity_display_parent TEXT NOT NULL,
  balances TEXT NOT NULL,
  available_balance NUMERIC(80,0) NOT NULL,
  free_balance NUMERIC(80,0) NOT NULL,
  locked_balance NUMERIC(80,0) NOT NULL,
  nonce BIGINT NOT NULL,
  timestamp BIGINT NOT NULL,
  block_height BIGINT NOT NULL,
  evm_address TEXT DEFAULT NULL,
  evm_nonce INT DEFAULT NULL,
  PRIMARY KEY ( account_id )  
);

CREATE TABLE IF NOT EXISTS contract (
  contract_id TEXT,
  owner TEXT,
  name TEXT NOT NULL,
  value TEXT NOT NULL,
  gas_limit TEXT NOT NULL,
  storage_limit TEXT NOT NULL,
  verified BOOLEAN DEFAULT FALSE,
  target TEXT DEFAULT NULL,
  runs INT DEFAULT NULL,
  source JSON DEFAULT NULL,
  icon_url TEXT DEFAULT NULL,
  arguments JSON DEFAULT NULL,
  compiler_version TEXT DEFAULT NULL,
  optimization BOOLEAN DEFAULT NULL,
  deployment_bytecode TEXT DEFAULT NULL, -- DEFAULT NULL so don't break contracts dump import
  bytecode_metadata TEXT DEFAULT NULL,
  bytecode_arguments TEXT DEFAULT NULL,

  --// TODO flatten all the abis with constructors and events 
  --// TODO store everything in db
  compiler_data JSON DEFAULT NULL,
  
  block_height BIGINT NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( contract_id )
  -- TODO uncomment foreign key reference when crawler is going to be rewritten
  -- CONSTRAINT fk_owner
  --   FOREIGN KEY (owner)
  --     REFERENCES account(account_id)
);

CREATE TABLE IF NOT EXISTS erc20 (
  id SERIAL,
  contract_id TEXT,
  name TEXT,
  symbol TEXT,
  decimals INT,
  description TEXT DEFAULT NULL,
  total_supply NUMERIC(80,0) DEFAULT NULL,
  PRIMARY KEY ( id ),
  CONSTRAINT fk_contract_id
    FOREIGN KEY (contract_id)
      REFERENCES contract(contract_id)
);

CREATE TABLE IF NOT EXISTS token_holder  (
  contract_id TEXT NOT NULL,
  holder_account_id TEXT DEFAULT NULL,
  holder_evm_address TEXT DEFAULT NULL,
  balance NUMERIC(80,0) DEFAULT NULL,
  block_height BIGINT NOT NULL,
  timestamp BIGINT NOT NULL,
  PRIMARY KEY ( contract_id, holder_evm_address )  
);

-- TODO replace token_holder table
-- CREATE TABLE IF NOT EXISTS token_holder {
--   contract_id TEXT,
--   owner TEXT,
--   block_height BIGINT NOT NULL,
--   balance NUMERIC(80, 0) DEFAULT NULL,
--   CONSTRAINT fk_owner
--     FOREIGN KEY (owner)
--       REFERENCES account(account_id)
--   CONSTRAINT fk_contract
--     FOREIGN KEY (contract_id)
--       REFERENCES contract(contract_id)
-- }

CREATE TABLE IF NOT EXISTS contract_verification_request  (
  id SERIAL,
  contract_id TEXT,
  runs INT NOT NULL,
  name TEXT NOT NULL,
  source JSON NOT NULL,
  status TEXT NOT NULL,
  target TEXT NOT NULL,
  filename TEXT NOT NULL,
  timestamp BIGINT NOT NULL,
  arguments TEXT DEFAULT NULL,
  error_type TEXT DEFAULT NULL, -- TODO remove
  optimization BOOLEAN NOT NULL,
  compiler_version TEXT NOT NULL,
  error_message TEXT DEFAULT NULL,
  PRIMARY KEY ( id )
  -- CONSTRAINT fk_contract_id
  --   FOREIGN KEY (contract_id)
  --     REFERENCES contract(contract_id)
);

CREATE TABLE IF NOT EXISTS pool (
  address TEXT NOT NULL,
  decimals INT NOT NULL,
  reserve1 NUMERIC(80,0) NOT NULL,
  reserve2 NUMERIC(80,0) NOT NULL,
  total_supply NUMERIC(80,0) NOT NULL,
  minimum_liquidity NUMERIC(80,0) NOT NULL,
  token1 TEXT NOT NULL,
  token2 TEXT NOT NULL,
  PRIMARY KEY ( address )
);

CREATE TABLE IF NOT EXISTS pool_user (
  pool_address TEXT NOT NULL,
  user_address TEXT NOT NULL,
  balance NUMERIC(80,0) NOT NULL,
  PRIMARY KEY ( pool_address, user_address )
);

CREATE TABLE IF NOT EXISTS total (  
  name TEXT,
  count NUMERIC(80,0) NOT NULL,
  PRIMARY KEY ( name )
);

INSERT INTO total (name, count) VALUES
  ('blocks', 0),
  ('extrinsics', 0),
  ('transfers', 0),
  ('events', 0),
  ('active_validator_count', 0),
  ('waiting_validator_count', 0),
  ('nominator_count', 0),
  ('current_era', 0),
  ('active_era', 0),
  ('minimum_stake', 0),
  ('contracts', 0),
  ('tokens', 0);


INSERT INTO contract (
  contract_id, owner, name, value, gas_limit, 
  storage_limit, verified, deployment_bytecode,
  bytecode_metadata, compiler_version, block_height, timestamp
)
VALUES
-- REEF
(
  '0x0000000000000000000000000000000001000000',
  '', -- TODO add owner
  'REEF',
  '', '', '', -- TODO add value, gas-limit and storage limit
  TRUE,
  '0x608060405234801561001057600080fd5b50600436106100b45760003560e01c80633950935111610071578063395093511461028857806370a08231146102ee57806395d89b4114610346578063a457c2d7146103c9578063a9059cbb1461042f578063dd62ed3e14610495576100b4565b806306fdde03146100b9578063095ea7b31461013c57806318160ddd146101a25780631feeece2146101c057806323b872dd146101de578063313ce56714610264575b600080fd5b6100c161050d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101015780820151818401526020810190506100e6565b50505050905090810190601f16801561012e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101886004803603604081101561015257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061054a565b604051808215151515815260200191505060405180910390f35b6101aa610561565b6040518082815260200191505060405180910390f35b6101c8610572565b6040518082815260200191505060405180910390f35b61024a600480360360608110156101f457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061057a565b604051808215151515815260200191505060405180910390f35b61026c610644565b604051808260ff1660ff16815260200191505060405180910390f35b6102d46004803603604081101561029e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061064d565b604051808215151515815260200191505060405180910390f35b6103306004803603602081101561030457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506106f1565b6040518082815260200191505060405180910390f35b61034e610705565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561038e578082015181840152602081019050610373565b50505050905090810190601f1680156103bb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610415600480360360408110156103df57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610742565b604051808215151515815260200191505060405180910390f35b61047b6004803603604081101561044557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610800565b604051808215151515815260200191505060405180910390f35b6104f7600480360360408110156104ab57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610817565b6040518082815260200191505060405180910390f35b60606040518060400160405280600481526020017f5265656600000000000000000000000000000000000000000000000000000000815250905090565b600061055733848461089d565b6001905092915050565b600061056d6000610a93565b905090565b600080905090565b6000610587848484610b03565b610639843361063485604051806060016040528060288152602001610ffd602891396000808b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c869092919063ffffffff16565b61089d565b600190509392505050565b60006012905090565b60006106e733846106e2856000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610d4690919063ffffffff16565b61089d565b6001905092915050565b60006106fe600083610dce565b9050919050565b60606040518060400160405280600481526020017f5245454600000000000000000000000000000000000000000000000000000000815250905090565b60006107f633846107f18560405180606001604052806025815260200161106e602591396000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c869092919063ffffffff16565b61089d565b6001905092915050565b600061080d338484610b03565b6001905092915050565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610923576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061104a6024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156109a9576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180610fdb6022913960400191505060405180910390fd5b806000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b6000610a9d610f2f565b600081600060028110610aac57fe5b6020020181815250508281600160028110610ac357fe5b602002018181525050610ad4610f51565b6020816040846104005afa610ae857600080fd5b80600060018110610af557fe5b602002015192505050919050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610b89576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260258152602001806110256025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610c0f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180610fb86023913960400191505060405180910390fd5b610c1c6000848484610e6c565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610d33576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610cf8578082015181840152602081019050610cdd565b50505050905090810190601f168015610d255780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600080828401905083811015610dc4576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b6000610dd8610f73565b600181600060038110610de757fe5b6020020181815250508381600160038110610dfe57fe5b6020020181815250508273ffffffffffffffffffffffffffffffffffffffff1681600260038110610e2b57fe5b602002018181525050610e3c610f51565b6020816060846104005afa610e5057600080fd5b80600060018110610e5d57fe5b60200201519250505092915050565b610e74610f95565b600281600060058110610e8357fe5b6020020181815250508481600160058110610e9a57fe5b6020020181815250508373ffffffffffffffffffffffffffffffffffffffff1681600260058110610ec757fe5b6020020181815250508273ffffffffffffffffffffffffffffffffffffffff1681600360058110610ef457fe5b6020020181815250508181600460058110610f0b57fe5b60200201818152505060008060a0836104005afa610f2857600080fd5b5050505050565b6040518060400160405280600290602082028038833980820191505090505090565b6040518060200160405280600190602082028038833980820191505090505090565b6040518060600160405280600390602082028038833980820191505090505090565b6040518060a0016040528060059060208202803883398082019150509050509056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa26469706673582212207f0d7ea0316b4993ca5b9a6d117724e55da822413094fde716c771acdd2d4c2c64736f6c63430006000033',
  'a2646970667358221220ca5c764db385f7a72f31e6e1a0ed4e18a4de5062832e0e616ba8b7d30cc6398964736f6c63430006000033',
  'v0.6.0+commit.26b70077',
  0,
  0
),
-- RUSD
(
  '0x0000000000000000000000000000000001000001',
  '', -- TODO add owner
  'RUSD',
  '', '', '', -- TODO add value, gas-limit and storage limit
  TRUE,
  '0x608060405234801561001057600080fd5b50600436106100b45760003560e01c80633950935111610071578063395093511461028857806370a08231146102ee57806395d89b4114610346578063a457c2d7146103c9578063a9059cbb1461042f578063dd62ed3e14610495576100b4565b806306fdde03146100b9578063095ea7b31461013c57806318160ddd146101a25780631feeece2146101c057806323b872dd146101de578063313ce56714610264575b600080fd5b6100c161050d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101015780820151818401526020810190506100e6565b50505050905090810190601f16801561012e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b6101886004803603604081101561015257600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061054a565b604051808215151515815260200191505060405180910390f35b6101aa610561565b6040518082815260200191505060405180910390f35b6101c8610573565b6040518082815260200191505060405180910390f35b61024a600480360360608110156101f457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919050505061057d565b604051808215151515815260200191505060405180910390f35b61026c610647565b604051808260ff1660ff16815260200191505060405180910390f35b6102d46004803603604081101561029e57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610650565b604051808215151515815260200191505060405180910390f35b6103306004803603602081101561030457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506106f4565b6040518082815260200191505060405180910390f35b61034e610709565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561038e578082015181840152602081019050610373565b50505050905090810190601f1680156103bb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610415600480360360408110156103df57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610746565b604051808215151515815260200191505060405180910390f35b61047b6004803603604081101561044557600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610804565b604051808215151515815260200191505060405180910390f35b6104f7600480360360408110156104ab57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061081b565b6040518082815260200191505060405180910390f35b60606040518060400160405280600b81526020017f5265656620446f6c6c6172000000000000000000000000000000000000000000815250905090565b60006105573384846108a1565b6001905092915050565b600061056e610100610a97565b905090565b6000610100905090565b600061058a848484610b07565b61063c843361063785604051806060016040528060288152602001611002602891396000808b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c8b9092919063ffffffff16565b6108a1565b600190509392505050565b60006012905090565b60006106ea33846106e5856000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610d4b90919063ffffffff16565b6108a1565b6001905092915050565b600061070261010083610dd3565b9050919050565b60606040518060400160405280600481526020017f5255534400000000000000000000000000000000000000000000000000000000815250905090565b60006107fa33846107f585604051806060016040528060258152602001611073602591396000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008a73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054610c8b9092919063ffffffff16565b6108a1565b6001905092915050565b6000610811338484610b07565b6001905092915050565b60008060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610927576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602481526020018061104f6024913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156109ad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526022815260200180610fe06022913960400191505060405180910390fd5b806000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040518082815260200191505060405180910390a3505050565b6000610aa1610f34565b600081600060028110610ab057fe5b6020020181815250508281600160028110610ac757fe5b602002018181525050610ad8610f56565b6020816040846104005afa610aec57600080fd5b80600060018110610af957fe5b602002015192505050919050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610b8d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602581526020018061102a6025913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610c13576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526023815260200180610fbd6023913960400191505060405180910390fd5b610c21610100848484610e71565b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040518082815260200191505060405180910390a3505050565b6000838311158290610d38576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b83811015610cfd578082015181840152602081019050610ce2565b50505050905090810190601f168015610d2a5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b5060008385039050809150509392505050565b600080828401905083811015610dc9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f536166654d6174683a206164646974696f6e206f766572666c6f77000000000081525060200191505060405180910390fd5b8091505092915050565b6000610ddd610f78565b600181600060038110610dec57fe5b6020020181815250508381600160038110610e0357fe5b6020020181815250508273ffffffffffffffffffffffffffffffffffffffff1681600260038110610e3057fe5b602002018181525050610e41610f56565b6020816060846104005afa610e5557600080fd5b80600060018110610e6257fe5b60200201519250505092915050565b610e79610f9a565b600281600060058110610e8857fe5b6020020181815250508481600160058110610e9f57fe5b6020020181815250508373ffffffffffffffffffffffffffffffffffffffff1681600260058110610ecc57fe5b6020020181815250508273ffffffffffffffffffffffffffffffffffffffff1681600360058110610ef957fe5b6020020181815250508181600460058110610f1057fe5b60200201818152505060008060a0836104005afa610f2d57600080fd5b5050505050565b6040518060400160405280600290602082028038833980820191505090505090565b6040518060200160405280600190602082028038833980820191505090505090565b6040518060600160405280600390602082028038833980820191505090505090565b6040518060a0016040528060059060208202803883398082019150509050509056fe45524332303a207472616e7366657220746f20746865207a65726f206164647265737345524332303a20617070726f766520746f20746865207a65726f206164647265737345524332303a207472616e7366657220616d6f756e74206578636565647320616c6c6f77616e636545524332303a207472616e736665722066726f6d20746865207a65726f206164647265737345524332303a20617070726f76652066726f6d20746865207a65726f206164647265737345524332303a2064656372656173656420616c6c6f77616e63652062656c6f77207a65726fa2646970667358221220a6949233ed4c6693d0c8c97f7d7a9f7ffaab104485faefa710afebe9ea7b166f64736f6c63430006000033',
  'a2646970667358221220a6949233ed4c6693d0c8c97f7d7a9f7ffaab104485faefa710afebe9ea7b166f64736f6c63430006000033',
  'v0.6.0+commit.26b70077',
  0,
  0
),
-- StateRent
(
  '0x0000000000000000000000000000000000000800 ',
  '', -- TODO add owner
  'StateRent',
  '', '', '', -- TODO add value, gas-limit and storage limit
  TRUE,
  '0x608060405234801561001057600080fd5b50600436106100625760003560e01c806306ad13551461006757806368a18855146100eb5780636e04399814610109578063a23e8b8214610127578063cfbd33d714610145578063f2cff57f146101c1575b600080fd5b6100a96004803603602081101561007d57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506101df565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6100f36101f1565b6040518082815260200191505060405180910390f35b610111610200565b6040518082815260200191505060405180910390f35b61012f61020f565b6040518082815260200191505060405180910390f35b6101a76004803603604081101561015b57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061021e565b604051808215151515815260200191505060405180910390f35b6101c9610235565b6040518082815260200191505060405180910390f35b60006101ea82610244565b9050919050565b60006101fb6102ca565b905090565b600061020a610321565b905090565b6000610219610378565b905090565b600061022b3384846103cf565b6001905092915050565b600061023f6105cb565b905090565b600061024e6106e3565b60028160006002811061025d57fe5b6020020181815250508273ffffffffffffffffffffffffffffffffffffffff168160016002811061028a57fe5b60200201818152505061029b610705565b6020816040846104025afa6102af57600080fd5b806000600181106102bc57fe5b602002015192505050919050565b60006102d4610705565b6003816000600181106102e357fe5b6020020181815250506102f4610705565b6020816020846104025afa61030857600080fd5b8060006001811061031557fe5b60200201519250505090565b600061032b610705565b60018160006001811061033a57fe5b60200201818152505061034b610705565b6020816020846104025afa61035f57600080fd5b8060006001811061036c57fe5b60200201519250505090565b6000610382610705565b60008160006001811061039157fe5b6020020181815250506103a2610705565b6020816020846104025afa6103b657600080fd5b806000600181106103c357fe5b60200201519250505090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415610455576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602981526020018061074a6029913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1614156104db576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260338152602001806107a46033913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610561576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260318152602001806107736031913960400191505060405180910390fd5b61056c338383610622565b8073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff167f8cee443d7a0c7dbd8a490dab604d0ed84f4138ba66b3dce2f78ed58bb63f56b760405160405180910390a3505050565b60006105d5610705565b6004816000600181106105e457fe5b6020020181815250506105f5610705565b6020816020846104025afa61060957600080fd5b8060006001811061061657fe5b60200201519250505090565b61062a610727565b60808160006004811061063957fe5b6020020181815250508373ffffffffffffffffffffffffffffffffffffffff168160016004811061066657fe5b6020020181815250508273ffffffffffffffffffffffffffffffffffffffff168160026004811061069357fe5b6020020181815250508173ffffffffffffffffffffffffffffffffffffffff16816003600481106106c057fe5b6020020181815250506000806080836104025afa6106dd57600080fd5b50505050565b6040518060400160405280600290602082028038833980820191505090505090565b6040518060200160405280600190602082028038833980820191505090505090565b604051806080016040528060049060208202803883398082019150509050509056fe537461746552656e743a207468652073656e64657220697320746865207a65726f2061646472657373537461746552656e743a20746865206e65775f6d61696e7461696e657220697320746865207a65726f2061646472657373537461746552656e743a2074686520636f6e74726163745f6164647265737320697320746865207a65726f2061646472657373a26469706673582212208f9fcccb00b243a8a1ca97eba7bec39378123acbc541f72ad47c56ca7b6073e764736f6c63430006000033',
  'a26469706673582212208f9fcccb00b243a8a1ca97eba7bec39378123acbc541f72ad47c56ca7b6073e764736f6c63430006000033',
  'v0.6.0+commit.26b70077',
  0,
  0
),
-- Oracle
(
  '0x0000000000000000000000000000000000000801',
  '', -- TODO add owner
  'Oracle',
  '', '', '', -- TODO add value, gas-limit and storage limit
  TRUE,
  '0x608060405234801561001057600080fd5b506004361061002b5760003560e01c806341976e0914610030575b600080fd5b6100726004803603602081101561004657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061008f565b604051808381526020018281526020019250505060405180910390f35b60008082606081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401915050604051602081830303815290604052905060008090505b600c8110156101b357600060f81b82828151811061010657fe5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916146101a6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260158152602001807f6e6f7420612073797374656d20636f6e7472616374000000000000000000000081525060200191505060405180910390fd5b80806001019150506100ec565b50600073ffffffffffffffffffffffffffffffffffffffff168573ffffffffffffffffffffffffffffffffffffffff161415610257576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601d8152602001807f4f7261636c653a20746f6b656e206973207a65726f206164647265737300000081525060200191505060405180910390fd5b60008573ffffffffffffffffffffffffffffffffffffffff16631feeece26040518163ffffffff1660e01b815260040160206040518083038186803b15801561029f57600080fd5b505afa1580156102b3573d6000803e3d6000fd5b505050506040513d60208110156102c957600080fd5b810190808051906020019092919050505090506102e4610361565b6000816000600281106102f357fe5b602002018181525050818160016002811061030a57fe5b60200201818152505061031b610361565b6040816040846104035afa61032f57600080fd5b8060006002811061033c57fe5b60200201518160016002811061034e57fe5b6020020151965096505050505050915091565b604051806040016040528060029060208202803883398082019150509050509056fea26469706673582212200ab4066d46955f90fc2882320523757ba3fbb9ae3cb2ba76fef520dc50c2552364736f6c63430006000033',
  'a26469706673582212200ab4066d46955f90fc2882320523757ba3fbb9ae3cb2ba76fef520dc50c2552364736f6c63430006000033',
  'v0.6.0+commit.26b70077',
  0,
  0
),
-- Schedule
(
  '0x0000000000000000000000000000000000000802',
  '', -- TODO add owner
  'Schedule',
  '', '', '', -- TODO add value, gas-limit and storage limit
  TRUE,
  '0x608060405234801561001057600080fd5b50600436106100415760003560e01c8063168d560d1461004657806380770aa214610161578063ed67982b1461023e575b600080fd5b610147600480360360c081101561005c57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190803590602001909291908035906020019092919080359060200190929190803590602001906401000000008111156100c157600080fd5b8201836020820111156100d357600080fd5b803590602001918460018302840111640100000000831117156100f557600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610311565b604051808215151515815260200191505060405180910390f35b6102246004803603604081101561017757600080fd5b81019080803590602001909291908035906020019064010000000081111561019e57600080fd5b8201836020820111156101b057600080fd5b803590602001918460018302840111640100000000831117156101d257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610330565b604051808215151515815260200191505060405180910390f35b6102f76004803603602081101561025457600080fd5b810190808035906020019064010000000081111561027157600080fd5b82018360208201111561028357600080fd5b803590602001918460018302840111640100000000831117156102a557600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610347565b604051808215151515815260200191505060405180910390f35b60006103223388888888888861035c565b600190509695505050505050565b600061033d3384846105c6565b6001905092915050565b6000610353338361070f565b60019050919050565b600073ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff1614156103e2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180610dbc602c913960400191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168673ffffffffffffffffffffffffffffffffffffffff161415610468576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526036815260200180610de86036913960400191505060405180910390fd5b60008151116104df576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f5363686564756c6543616c6c3a20696e707574206973206e756c6c000000000081525060200191505060405180910390fd5b60606104f033888888888888610856565b90508673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167ff50ab0aa329811f23150e5490fc00ea0baf136a55280b7e88703b4753d4097ce836040518080602001828103825283818151815260200191508051906020019080838360005b83811015610582578082015181840152602081019050610567565b50505050905090810190601f1680156105af5780820380516001836020036101000a031916815260200191505b509250505060405180910390a35050505050505050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16141561064c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180610dbc602c913960400191505060405180910390fd5b610657338383610b27565b3373ffffffffffffffffffffffffffffffffffffffff167f3d7c2a1f4334df8f13c937065d5a5505918af3e28136cf2ac1273b96d1ed996a826040518080602001828103825283818151815260200191508051906020019080838360005b838110156106d05780820151818401526020810190506106b5565b50505050905090810190601f1680156106fd5780820380516001836020036101000a031916815260200191505b509250505060405180910390a2505050565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252602c815260200180610dbc602c913960400191505060405180910390fd5b61079f3382610c5e565b3373ffffffffffffffffffffffffffffffffffffffff167fe53347c2cd79d58390b73e62c658e8893996a9f82a3be212c9971859c79a9644826040518080602001828103825283818151815260200191508051906020019080838360005b838110156108185780820151818401526020810190506107fd565b50505050905090810190601f1680156108455780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b606060006020601f8451018161086857fe5b04905060008160080190506060816040519080825280602002602001820160405280156108a45781602001602082028038833980820191505090505b5090506000816000815181106108b657fe5b6020026020010181815250508a73ffffffffffffffffffffffffffffffffffffffff16816001815181106108e657fe5b6020026020010181815250508973ffffffffffffffffffffffffffffffffffffffff168160028151811061091657fe5b602002602001018181525050888160038151811061093057fe5b602002602001018181525050878160048151811061094a57fe5b602002602001018181525050868160058151811061096457fe5b602002602001018181525050858160068151811061097e57fe5b60200260200101818152505084518160078151811061099957fe5b60200260200101818152505060008090505b838110156109e5576109bd8682610d7a565b8282600801815181106109cc57fe5b60200260200101818152505080806001019150506109ab565b5060006020600184010290506109f9610d99565b60608183856104045afa610a0c57600080fd5b606081600060038110610a1b57fe5b60200201516040519080825280601f01601f191660200182016040528015610a525781602001600182028038833980820191505090505b509050606082600160038110610a6457fe5b602002015183600260038110610a7657fe5b60200201516040516020018083815260200182815260200192505050604051602081830303815290604052905060008090505b8251811015610b1157818181518110610abe57fe5b602001015160f81c60f81b838281518110610ad557fe5b60200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053508080600101915050610aa9565b5081975050505050505050979650505050505050565b60006020601f83510181610b3757fe5b0490506000816004019050606081604051908082528060200260200182016040528015610b735781602001602082028038833980820191505090505b509050600281600081518110610b8557fe5b6020026020010181815250508573ffffffffffffffffffffffffffffffffffffffff1681600181518110610bb557fe5b6020026020010181815250508481600281518110610bcf57fe5b602002602001018181525050835181600381518110610bea57fe5b60200260200101818152505060008090505b83811015610c3657610c0e8582610d7a565b828260040181518110610c1d57fe5b6020026020010181815250508080600101915050610bfc565b50600060206001840102905060008082846104045afa610c5557600080fd5b50505050505050565b60006020601f83510181610c6e57fe5b0490506000816003019050606081604051908082528060200260200182016040528015610caa5781602001602082028038833980820191505090505b509050600181600081518110610cbc57fe5b6020026020010181815250508473ffffffffffffffffffffffffffffffffffffffff1681600181518110610cec57fe5b602002602001018181525050835181600281518110610d0757fe5b60200260200101818152505060008090505b83811015610d5357610d2b8582610d7a565b828260030181518110610d3a57fe5b6020026020010181815250508080600101915050610d19565b50600060206001840102905060008082846104045afa610d7257600080fd5b505050505050565b6000806020830290506000816020018501519050809250505092915050565b604051806060016040528060039060208202803883398082019150509050509056fe5363686564756c6543616c6c3a207468652073656e64657220697320746865207a65726f20616464726573735363686564756c6543616c6c3a2074686520636f6e74726163745f6164647265737320697320746865207a65726f2061646472657373a26469706673582212208cb1aaf45825063deccbd79372e77cc77abb5031b261cce27c89766e6fd7f2e164736f6c63430006000033',
  'a26469706673582212208cb1aaf45825063deccbd79372e77cc77abb5031b261cce27c89766e6fd7f2e164736f6c63430006000033',
  'v0.6.0+commit.26b70077',
  0,
  0
),
-- DEX
(
  '0x0000000000000000000000000000000000000803',
  '', -- TODO add owner
  'DEX',
  '', '', '', -- TODO add value, gas-limit and storage limit
  TRUE,
  '0x608060405234801561001057600080fd5b50600436106100365760003560e01c806364b899ac1461003b578063ea526de7146100c7575b600080fd5b6100b16004803603608081101561005157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919080359060200190929190505050610146565b6040518082815260200191505060405180910390f35b610129600480360360408110156100dd57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061073c565b604051808381526020018281526020019250505060405180910390f35b600084606081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401915050604051602081830303815290604052905060008090505b600c81101561026957600060f81b8282815181106101bc57fe5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461025c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260158152602001807f6e6f7420612073797374656d20636f6e7472616374000000000000000000000081525060200191505060405180910390fd5b80806001019150506101a2565b5085606081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401915050604051602081830303815290604052905060008090505b600c81101561038b57600060f81b8282815181106102de57fe5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161461037e576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260158152602001807f6e6f7420612073797374656d20636f6e7472616374000000000000000000000081525060200191505060405180910390fd5b80806001019150506102c4565b50600073ffffffffffffffffffffffffffffffffffffffff168973ffffffffffffffffffffffffffffffffffffffff16141561042f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f4445583a20746f6b656e41206973207a65726f2061646472657373000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff1614156104d2576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f4445583a20746f6b656e42206973207a65726f2061646472657373000000000081525060200191505060405180910390fd5b6000871415610549576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260198152602001807f4445583a20737570706c79416d6f756e74206973207a65726f0000000000000081525060200191505060405180910390fd5b60008973ffffffffffffffffffffffffffffffffffffffff16631feeece26040518163ffffffff1660e01b815260040160206040518083038186803b15801561059157600080fd5b505afa1580156105a5573d6000803e3d6000fd5b505050506040513d60208110156105bb57600080fd5b8101908080519060200190929190505050905060008973ffffffffffffffffffffffffffffffffffffffff16631feeece26040518163ffffffff1660e01b815260040160206040518083038186803b15801561061657600080fd5b505afa15801561062a573d6000803e3d6000fd5b505050506040513d602081101561064057600080fd5b8101908080519060200190929190505050905061065b610c74565b60018160006006811061066a57fe5b6020020181815250503373ffffffffffffffffffffffffffffffffffffffff168160016006811061069757fe5b60200201818152505082816002600681106106ae57fe5b60200201818152505081816003600681106106c557fe5b60200201818152505089816004600681106106dc57fe5b60200201818152505088816005600681106106f357fe5b602002018181525050610704610c96565b60208160c0846104055afa61071857600080fd5b8060006001811061072557fe5b602002015198505050505050505050949350505050565b60008083606081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401915050604051602081830303815290604052905060008090505b600c81101561086057600060f81b8282815181106107b357fe5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614610853576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260158152602001807f6e6f7420612073797374656d20636f6e7472616374000000000000000000000081525060200191505060405180910390fd5b8080600101915050610799565b5084606081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1660601b8152601401915050604051602081830303815290604052905060008090505b600c81101561098257600060f81b8282815181106108d557fe5b602001015160f81c60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614610975576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260158152602001807f6e6f7420612073797374656d20636f6e7472616374000000000000000000000081525060200191505060405180910390fd5b80806001019150506108bb565b50600073ffffffffffffffffffffffffffffffffffffffff168873ffffffffffffffffffffffffffffffffffffffff161415610a26576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f4445583a20746f6b656e41206973207a65726f2061646472657373000000000081525060200191505060405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168773ffffffffffffffffffffffffffffffffffffffff161415610ac9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601b8152602001807f4445583a20746f6b656e42206973207a65726f2061646472657373000000000081525060200191505060405180910390fd5b60008873ffffffffffffffffffffffffffffffffffffffff16631feeece26040518163ffffffff1660e01b815260040160206040518083038186803b158015610b1157600080fd5b505afa158015610b25573d6000803e3d6000fd5b505050506040513d6020811015610b3b57600080fd5b8101908080519060200190929190505050905060008873ffffffffffffffffffffffffffffffffffffffff16631feeece26040518163ffffffff1660e01b815260040160206040518083038186803b158015610b9657600080fd5b505afa158015610baa573d6000803e3d6000fd5b505050506040513d6020811015610bc057600080fd5b81019080805190602001909291905050509050610bdb610cb8565b600081600060038110610bea57fe5b6020020181815250508281600160038110610c0157fe5b6020020181815250508181600260038110610c1857fe5b602002018181525050610c29610cda565b6040816060846104055afa610c3d57600080fd5b80600060028110610c4a57fe5b602002015181600160028110610c5c57fe5b60200201519950995050505050505050509250929050565b6040518060c00160405280600690602082028038833980820191505090505090565b6040518060200160405280600190602082028038833980820191505090505090565b6040518060600160405280600390602082028038833980820191505090505090565b604051806040016040528060029060208202803883398082019150509050509056fea26469706673582212203320fbc23d712e9537ae08f7e2655ceecce971fb8d224e37c1aa527fa73b7c8264736f6c63430006000033',
  'a26469706673582212203320fbc23d712e9537ae08f7e2655ceecce971fb8d224e37c1aa527fa73b7c8264736f6c63430006000033',
  'v0.6.0+commit.26b70077',
  0,
  0
);

CREATE INDEX IF NOT EXISTS block_finalized_idx ON block (finalized);
CREATE INDEX IF NOT EXISTS block_block_number_idx ON block (block_number);
CREATE INDEX IF NOT EXISTS block_block_hash_idx ON block (block_hash);

CREATE INDEX IF NOT EXISTS extrinsic_block_number_idx ON extrinsic (block_number);
CREATE INDEX IF NOT EXISTS extrinsic_section_idx ON extrinsic (section);
CREATE INDEX IF NOT EXISTS extrinsic_method_idx ON extrinsic (method);
CREATE INDEX IF NOT EXISTS extrinsic_signer_idx ON extrinsic (signer);
CREATE INDEX IF NOT EXISTS extrinsic_hash_idx ON extrinsic (hash);

CREATE INDEX IF NOT EXISTS signed_extrinsic_block_number_idx ON signed_extrinsic (block_number);
CREATE INDEX IF NOT EXISTS signed_extrinsic_section_idx ON signed_extrinsic (section);
CREATE INDEX IF NOT EXISTS signed_extrinsic_method_idx ON signed_extrinsic (method);
CREATE INDEX IF NOT EXISTS signed_extrinsic_signer_idx ON signed_extrinsic (signer);
CREATE INDEX IF NOT EXISTS signed_extrinsic_hash_idx ON signed_extrinsic (hash);

CREATE INDEX IF NOT EXISTS transfer_block_number_idx ON transfer (block_number);
CREATE INDEX IF NOT EXISTS transfer_section_idx ON transfer (section);
CREATE INDEX IF NOT EXISTS transfer_method_idx ON transfer (method);
CREATE INDEX IF NOT EXISTS transfer_source_idx ON transfer (source);
CREATE INDEX IF NOT EXISTS transfer_destination_idx ON transfer (destination);
CREATE INDEX IF NOT EXISTS transfer_hash_idx ON transfer (hash);

CREATE INDEX IF NOT EXISTS event_block_number_idx ON event (block_number);
CREATE INDEX IF NOT EXISTS event_section_idx ON event (section);
CREATE INDEX IF NOT EXISTS event_method_idx ON event (method);

CREATE INDEX IF NOT EXISTS staking_reward_block_number_idx ON staking_reward (block_number);
CREATE INDEX IF NOT EXISTS staking_reward_account_id_idx ON staking_reward (account_id);

CREATE INDEX IF NOT EXISTS staking_slash_block_number_idx ON staking_slash (block_number);
CREATE INDEX IF NOT EXISTS staking_slash_account_id_idx ON staking_slash (account_id);

CREATE INDEX IF NOT EXISTS account_evm_address_idx ON account (evm_address);

GRANT ALL PRIVILEGES ON TABLE block TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE harvest_error TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE event TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE staking_reward TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE staking_slash TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE extrinsic TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE signed_extrinsic TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE transfer TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE ranking TO reefexplorer;

GRANT ALL PRIVILEGES ON TABLE era_vrc_score TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_commission TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_commission_avg TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_self_stake TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_self_stake_avg TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_relative_performance TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_relative_performance_avg TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_points TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE era_points_avg TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE account TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE total TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE contract TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE contract_verification_request TO reefexplorer;
GRANT ALL PRIVILEGES ON TABLE token_holder TO reefexplorer;
